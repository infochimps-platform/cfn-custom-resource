module CloudFormation
  module CustomResource
    class Router
      attr_accessor :handlers, :default_handler

      def self.default_router
        @@default_router ||= Router.new
      end

      def initialize
        @handlers = {}
        @default_handler
      end

      def register type, handler_class
        handlers[type] = handler_class
      end

      def get_handler type
        handlers[type] || default_handler
      end

    end
  end
end
